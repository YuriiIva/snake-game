(this["webpackJsonpsnake-game-2"]=this["webpackJsonpsnake-game-2"]||[]).push([[0],{16:function(t,e,n){t.exports={game_area:"App_game_area__2AMNc",snake_dot:"App_snake_dot__WsnN-",points:"App_points__3Y1_5"}},24:function(t,e,n){},28:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),s=n(5),o=n.n(s),r=n(11),i=(n(24),n(12)),u=n(10),b=n(3),l=n(6),j=n.n(l),d=n(16),f=n.n(d),O=n(2),_=function(t){var e=t.snakeDots;return Object(O.jsx)("div",{children:e.map((function(t,e){var n={left:"".concat(t[0],"%"),top:"".concat(t[1],"%")};return Object(O.jsx)("div",{className:"snake_dot",style:n},e)}))})},p=n(18),h=n(14),m=function(t){var e=t.food,n=t.typesOfFeed,c={left:"".concat(e[0],"%"),top:"".concat(e[1],"%")};return Object(O.jsxs)(O.Fragment,{children:[1===n&&Object(O.jsx)("div",{className:"snake_food",style:c,children:Object(O.jsx)(p.a,{})}),5===n&&Object(O.jsx)("div",{className:"snake_food pear",style:c,children:Object(O.jsx)(h.b,{})}),10===n&&Object(O.jsx)("div",{className:"snake_food grapes",style:c,children:Object(O.jsx)(h.a,{})})]})},v=n(4),x=n.n(v),N=function(t){var e=t.onLeft,n=t.onUp,c=t.onRight,a=t.onDown,s=t.onStart,o=t.isStart,r=t.onPause;return Object(O.jsxs)("div",{className:x.a.btn_list,children:[Object(O.jsx)("button",{type:"button",className:"".concat(x.a.btn," ").concat(x.a.btn_left," "),onClick:e,children:"Left"}),Object(O.jsx)("button",{type:"button",className:"".concat(x.a.btn," ").concat(x.a.btn_up," "),onClick:n,children:"Up"}),Object(O.jsx)("button",{type:"button",className:"".concat(x.a.btn," ").concat(x.a.btn_right," "),onClick:c,children:"Right"}),Object(O.jsx)("button",{type:"button",className:"".concat(x.a.btn," ").concat(x.a.btn_down," "),onClick:a,children:"Down"}),!o&&Object(O.jsx)("button",{type:"button",className:"".concat(x.a.btn," ").concat(x.a.btn_start," "),onClick:s,children:"Start"}),Object(O.jsx)("button",{type:"button",className:"".concat(x.a.btn," ").concat(x.a.btn_pause," "),onClick:r,children:"Pause"})]})},k=function(t){var e=t.newNameUser;return Object(O.jsx)("div",{className:"welcome",children:Object(O.jsxs)("h1",{children:[" Welcome ",e]})})},y=n(8),S=n.n(y),w=document.querySelector("#modal-root"),g=function(t){var e=t.closeForm,n=t.onInputName,a=Object(c.useState)(""),o=Object(b.a)(a,2),r=o[0],i=o[1];Object(c.useEffect)((function(){var t=function(t){"Escape"===t.code&&e()};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[e]);return Object(s.createPortal)(Object(O.jsx)("div",{className:S.a.backdrop,children:Object(O.jsxs)("div",{className:S.a.modal,children:[Object(O.jsx)("header",{className:S.a.header,children:Object(O.jsx)("button",{className:S.a.closeBtn,onClick:e,"aria-label":"Close",children:"\xd7"})}),Object(O.jsx)("div",{className:S.a.content,children:Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n(r),e()},children:[Object(O.jsx)("input",{type:"text",name:"nameUser",value:r,placeholder:"Type your name",required:!0,minLength:"3",maxLength:"20",pattern:"^[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u0451'`\\s]+$",onChange:function(t){return i(t.target.value)}}),Object(O.jsx)("button",{type:"submit",className:S.a.button,children:"Enter"})]})})]})}),w)},E=(n(27),n(19)),I=function(t){var e=t.point;return Object(O.jsxs)("div",{className:"current_points",children:[Object(O.jsx)("h3",{className:"title_current_points",children:"Current results"}),Object(O.jsxs)("p",{children:[e," points"]})]})},B=n(17),C="https://61c4aa46f1af4a0017d9972f.mockapi.io",R=function(){var t=Object(u.a)(j.a.mark((function t(e){var n,c,a=arguments;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,fetch("".concat(C,"/").concat(e),n);case 3:return c=t.sent,t.abrupt("return",c.ok?c.json():Promise.reject(new Error(c.statusText)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=Object(B.a)({method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},n);return R(t,c)},T=function(t){var e=t.users;return Object(O.jsxs)("div",{className:"record_holders",children:[Object(O.jsx)("h3",{className:"record_holders_title",children:"Record Holders"}),Object(O.jsx)("ul",{children:e.map((function(t){var e=t.name,n=t.score,c=t.id;return Object(O.jsx)("li",{children:Object(O.jsxs)("p",{children:[e," : ",n," points"]})},c)}))})]})},P=n(7),F=n.n(P),A=document.querySelector("#modal-root"),D=function(t){var e=t.closeForm,n=t.handleYes,a=t.handleNo;return Object(c.useEffect)((function(){var t=function(t){"Escape"===t.code&&e()};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[e]),Object(s.createPortal)(Object(O.jsx)("div",{className:F.a.backdrop,children:Object(O.jsxs)("div",{className:F.a.modal,children:[Object(O.jsx)("header",{className:F.a.header,children:Object(O.jsx)("button",{className:F.a.closeBtn,onClick:e,"aria-label":"Close",children:"\xd7"})}),Object(O.jsxs)("div",{className:F.a.content,children:[Object(O.jsx)("p",{children:"Do you have save results?"}),Object(O.jsx)("button",{type:"button",className:F.a.button,onClick:n,children:"Yes"}),Object(O.jsx)("button",{type:"button",className:F.a.button,onClick:a,children:"No"})]})]})}),A)};r.a;var U="users",G=function(){return[4*Math.floor((98*Math.random()+1)/4),4*Math.floor((98*Math.random()+1)/4)]},M=function(){var t=29*Math.random()+1;return t<10?1:t>=10&&t<20?5:t>=20?10:void 0},W=[[0,0],[4,0]],H=function(){var t=Object(c.useState)(W),e=Object(b.a)(t,2),n=e[0],a=e[1],s=Object(c.useState)(G()),o=Object(b.a)(s,2),l=o[0],d=o[1],p=Object(c.useState)("RIGHT"),h=Object(b.a)(p,2),v=h[0],x=h[1],y=Object(c.useState)(!1),S=Object(b.a)(y,2),w=S[0],B=S[1],C=Object(c.useState)(!0),P=Object(b.a)(C,2),F=P[0],A=P[1],H=Object(c.useState)(""),q=Object(b.a)(H,2),z=q[0],J=q[1],Y=Object(c.useState)(0),Z=Object(b.a)(Y,2),K=Z[0],Q=Z[1],X=Object(c.useState)([]),$=Object(b.a)(X,2),V=$[0],tt=$[1],et=Object(c.useState)(!1),nt=Object(b.a)(et,2),ct=nt[0],at=nt[1],st=Object(c.useState)(""),ot=Object(b.a)(st,2),rt=ot[0],it=ot[1],ut=Object(c.useState)(M()),bt=Object(b.a)(ut,2),lt=bt[0],jt=bt[1],dt=Object(c.useState)(300),ft=Object(b.a)(dt,2),Ot=ft[0],_t=ft[1];Object(c.useEffect)((function(){var t=function(){var t=Object(u.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(U);case 2:e=t.sent,tt(Object(i.a)(e));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(c.useEffect)((function(){var t=Math.floor(K/50);t>0&&_t(300-10*t)}),[K]),Object(c.useEffect)((function(){if(rt){var t=function(){var t=Object(u.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(U,rt);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}),[rt]),Object(c.useEffect)((function(){if(!0===w){var t=setInterval((function(){pt()}),Ot);return function(){clearInterval(t)}}}),[n]);var pt=function(){var t=Object(i.a)(n),e=t[t.length-1];switch(v){case"LEFT":e=[e[0]-4,e[1]];break;case"RIGHT":e=[e[0]+4,e[1]];break;case"UP":e=[e[0],e[1]-4];break;case"DOWN":e=[e[0],e[1]+4]}t.push(e),t.splice(0,1),a(t)},ht=function(){var t=n[n.length-1];(t[0]>=100||t[0]<0||t[1]>=100||t[1]<0)&&Nt()},mt=function(){var t=n[n.length-1];t[0]===l[0]&&t[1]===l[1]&&(d(G()),jt(M()),Q((function(t){return 1===lt?t+1:5===lt?t+5:10===lt?t+10:void 0})),vt())},vt=function(){var t=Object(i.a)(n);t.unshift([]),a(t)},xt=function(){var t=Object(i.a)(n),e=t[t.length-1];t.filter((function(t){return t!==e})).forEach((function(t){e[0]===t[0]&&e[1]===t[1]&&Nt()}))},Nt=function(){r.b.error("GameOver"),a(W),x("RIGHT"),B(!1),at(!0)};Object(c.useEffect)((function(){ht()}),[ht]),Object(c.useEffect)((function(){mt()}),[mt]),Object(c.useEffect)((function(){xt()}),[xt]);var kt=function(){at(!1)};return Object(O.jsxs)("div",{children:[F&&Object(O.jsx)(g,{closeForm:function(){A(!1)},onInputName:function(t){J(t)}}),ct&&Object(O.jsx)(D,{closeForm:kt,handleYes:function(){it({name:z,score:K,id:Object(E.a)(4)}),kt()},handleNo:kt}),Object(O.jsx)(k,{newNameUser:z}),Object(O.jsxs)("div",{className:f.a.points,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(I,{point:K}),Object(O.jsx)(T,{users:V})]}),Object(O.jsxs)("div",{className:f.a.game_area,children:[Object(O.jsx)(_,{snakeDots:n}),Object(O.jsx)(m,{food:l,typesOfFeed:lt}),Object(O.jsx)(N,{onLeft:function(){x("LEFT")},onUp:function(){x("UP")},onRight:function(){x("RIGHT")},onDown:function(){x("DOWN")},onStart:function(){B(!0),pt(),Q(0),at(!1),it("")},isStart:w,onPause:function(){B((function(t){return!t})),pt()}})]})]})]})};o.a.render(Object(O.jsxs)(a.a.StrictMode,{children:[Object(O.jsx)(H,{}),Object(O.jsx)(r.a,{theme:"colored"})]}),document.getElementById("root"))},4:function(t,e,n){t.exports={btn:"Btn_btn__3iWZQ",btn_list:"Btn_btn_list__Aq7L6",btn_left:"Btn_btn_left__2GccI",btn_up:"Btn_btn_up__3ZyI5",btn_right:"Btn_btn_right__37Tm0",btn_down:"Btn_btn_down__1OJSp",btn_start:"Btn_btn_start__KebIB",btn_pause:"Btn_btn_pause__3eLsA"}},7:function(t,e,n){t.exports={backdrop:"SaveResults_backdrop__2REPG",modal:"SaveResults_modal__2N-2S",header:"SaveResults_header__akK9u",closeBtn:"SaveResults_closeBtn__1kBxh",button:"SaveResults_button__3H4Wt",content:"SaveResults_content__2zQOs"}},8:function(t,e,n){t.exports={backdrop:"InputName_backdrop__PkoCs",modal:"InputName_modal__zoXEv",header:"InputName_header__2AsGc",closeBtn:"InputName_closeBtn__2zo8x",content:"InputName_content__ZzR87",imageWrapper:"InputName_imageWrapper__2g6A1",button:"InputName_button__2cqNa"}}},[[28,1,2]]]);
//# sourceMappingURL=main.c084fc6d.chunk.js.map